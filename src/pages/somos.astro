---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import BaseHead from '../components/BaseHead-somos.astro';
import Hoy from '../components/Hoy.astro';
import Clientes from '../components/Clientes.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Quiénes Somos | LERRETI">
    <Header />
    <BaseHead/>
    <Hoy/>
    <Clientes/>
    <Footer/>
</Layout>

<script>
    const header = document.querySelector('.site-header');
    const baseHead = document.querySelector('.BaseHead-somos');

    const observer = new IntersectionObserver(
    ([entry]) => {
        if (entry.intersectionRatio < 0.5) {
        header.classList.remove('visible'); // Header desaparece cuando menos del 50% de BaseHead está visible
        } else {
        header.classList.add('visible');    // Header visible mientras al menos 50% de BaseHead está visible
        }
    },
    { threshold: [0, 0.5, 1] } // detecta cuando pasa el 50%
    );

    if (baseHead) observer.observe(baseHead);
</script>